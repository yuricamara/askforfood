{"version":3,"sources":["../../src/pages/company-register/company-register.module.ts","../../src/pages/company-register/company-register.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACS;AACa;AAWtE;IAAA;IAAwC,CAAC;IAA5B,yBAAyB;QATrC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,8EAAmB;aACpB;YACD,OAAO,EAAE;gBACP,uFAAgB;gBAChB,sEAAe,CAAC,QAAQ,CAAC,8EAAmB,CAAC;aAC9C;SACF,CAAC;OACW,yBAAyB,CAAG;IAAD,gCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACdI;AAC0B;AACgC;AAChD;AAEJ;AAIT;AAOvC;IAQE,6BACS,eAAgC,EAC/B,cAA8B,EAC/B,MAAc,EACb,EAAe,EAChB,WAA8B,EAC9B,QAAwB,EACxB,OAAsB,EACtB,SAAoB;QAPpB,oBAAe,GAAf,eAAe,CAAiB;QAC/B,mBAAc,GAAd,cAAc,CAAgB;QAC/B,WAAM,GAAN,MAAM,CAAQ;QACb,OAAE,GAAF,EAAE,CAAa;QAChB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QAE3B,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,4CAAc,GAAd;QACE,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,oCAAM,GAAd;QAAA,iBASC;QARC,IAAI,CAAC,eAAe;aACjB,SAAS;aACT,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CAAC,cAAI;YACb,EAAE,EAAC,CAAC,IAAI,CAAC,EAAC;gBAAC,MAAM,CAAC;YAAC,CAAC;YAEpB,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACtB,CAAC,EAAE,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAAC,CAAC;IACtC,CAAC;IAED,wCAAU,GAAV;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,IAAI,EAAE,CAAC,EAAE,EAAE;oBACT,kEAAU,CAAC,QAAQ;iBACpB,CAAC;YACF,QAAQ,EAAE,CAAC,EAAE,EAAE;oBACb,kEAAU,CAAC,QAAQ;iBACpB,CAAC;YACF,WAAW,EAAC,CAAC,EAAE,CAAC;YAChB,OAAO,EAAC,CAAC,EAAE,EAAE;oBACX,kEAAU,CAAC,QAAQ;iBACpB,CAAC;YACF,WAAW,EAAC,CAAC,EAAE,EAAE;oBACf,kEAAU,CAAC,QAAQ;iBACpB,CAAC;YACF,aAAa,EAAC,CAAC,EAAE,EAAE;oBACjB,kEAAU,CAAC,QAAQ;iBACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,wCAAU,GAAV;QAAA,iBAuCC;QAtCC,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC;YAAC,MAAM,CAAC;QAAC,CAAC;QAEhC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACrC,OAAO,EAAE,YAAY;YACrB,mBAAmB,EAAE,IAAI;SAC1B,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEjB,wBAOa,EANjB,cAAI,EACJ,sBAAQ,EACR,4BAAW,EACX,oBAAO,EACP,4BAAW,EACX,gCAAa,CACK;QAEpB,IAAM,UAAU,GAAoB;YAClC,IAAI;YACJ,QAAQ;YACR,WAAW;YACX,OAAO;YACP,WAAW;YACX,aAAa;YACb,SAAS,EAAE,IAAI,CAAC,GAAG;SACpB,CAAC;QAEF,IAAI,CAAC,cAAc;aAChB,MAAM,CAAC,UAAU,CAAC;aAClB,IAAI,CAAC,UAAC,GAAU;YACf,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAC;gBAC9B,UAAU,EAAE,GAAG;aAChB,CAAC,CAAC;QACL,CAAC,EAAE,eAAK;YACN,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrB,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAhGU,mBAAmB;QAJ/B,wEAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;WACG;SACrC,CAAC;8EAUyC;YACf,8DAAc;YACvB,mEAAM;YACT,wEAAW;YACH,sEAAiB;YACpB,qEAAc;YACf,kEAAa;YACX,SAAS;OAhBlB,mBAAmB,CAiG/B;IAAD,CAAC;AAAA;SAjGY,mBAAmB,gB","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CompanyRegisterPage } from './company-register';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CompanyRegisterPage,\r\n  ],\r\n  imports: [\r\n    ComponentsModule,\r\n    IonicPageModule.forChild(CompanyRegisterPage),\r\n  ],\r\n})\r\nexport class CompanyRegisterPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/company-register/company-register.module.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Events, IonicPage, LoadingController, MenuController, NavController, NavParams } from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { CompanyService } from '../../services';\n\nimport { ICompanyCreation } from '../../interfaces';\n\nimport { first } from 'rxjs/operators';\n\n@IonicPage({\n  segment: 'company/register'\n})\n@Component({\n  selector: 'page-company-register',\n  templateUrl: 'company-register.html'\n})\nexport class CompanyRegisterPage {\n  form: FormGroup;\n  loading: any;\n\n  uid: string;\n\n  editionMode: boolean;\n\n  constructor(\n    public angularFireAuth: AngularFireAuth,\n    private companyService: CompanyService,\n    public events: Events,\n    private fb: FormBuilder,\n    public loadingCtrl: LoadingController,\n    public menuCtrl: MenuController,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  ) {\n    this.createForm();\n  }\n\n  ionViewDidLoad(){\n    this.getUid();\n  }\n\n  private getUid(){\n    this.angularFireAuth\n      .authState\n      .pipe(first())\n      .subscribe(user => {\n        if(!user){ return; }\n\n        this.uid = user.uid;\n      }, error => console.error(error));\n  }\n\n  createForm() {\n    this.form = this.fb.group({\n      name: ['', [\n        Validators.required\n      ]],\n      category: ['', [\n        Validators.required\n      ]],\n      description:[''],\n      address:['', [\n        Validators.required\n      ]],\n      officeHours:['', [\n        Validators.required\n      ]],\n      paymentMethod:['', [\n        Validators.required\n      ]]\n    });\n  }\n\n  submitForm(){\n    if(this.form.invalid){ return; }\n\n    this.loading = this.loadingCtrl.create({\n      content: 'Aguarde...',\n      dismissOnPageChange: true\n    });\n\n    this.loading.present();\n\n    const {\n      name,\n      category,\n      description,\n      address,\n      officeHours,\n      paymentMethod\n    } = this.form.value;\n\n    const newCompany:ICompanyCreation = {\n      name,\n      category,\n      description,\n      address,\n      officeHours,\n      paymentMethod,\n      createdBy: this.uid\n    };\n\n    this.companyService\n      .create(newCompany)\n      .then((key:string) => {\n        this.navCtrl.push('CompanyPage',{\n          companyKey: key\n        });\n      }, error => {\n        console.error(error);\n        this.loading.dismiss();\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/company-register/company-register.ts"],"sourceRoot":""}