webpackJsonp([8],{518:function(l,n,u){"use strict";function t(l){return i._19(0,[(l()(),i.Z(0,0,null,null,6,"ion-item",[["class","item item-block"],["text-center",""]],null,null,null,Y.b,Y.a)),i.Y(1,1097728,null,3,j.a,[C.a,P.a,i.j,i.z,[2,Z.a]],null,null),i._16(335544320,4,{contentLabel:0}),i._16(603979776,5,{_buttons:1}),i._16(603979776,6,{_icons:1}),i.Y(5,16384,null,0,y.a,[],null,null),(l()(),i._18(-1,2,["\n        Você não efetuou nenhuma compra\n      "]))],null,null)}function a(l){return i._19(0,[(l()(),i.Z(0,0,null,null,18,"a",[["class","item item-block"],["ion-item",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.goToProductPage(l.context.$implicit.product.key)&&t}return t},Y.b,Y.a)),i.Y(1,1097728,null,3,j.a,[C.a,P.a,i.j,i.z,[2,Z.a]],null,null),i._16(335544320,7,{contentLabel:0}),i._16(603979776,8,{_buttons:1}),i._16(603979776,9,{_icons:1}),i.Y(5,16384,null,0,y.a,[],null,null),(l()(),i._18(-1,2,["\n        "])),(l()(),i.Z(7,0,null,0,4,"ion-thumbnail",[["item-start",""]],null,null,null,null,null)),i.Y(8,16384,null,0,z.a,[],null,null),(l()(),i._18(-1,null,["\n          "])),(l()(),i.Z(10,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),i._18(-1,null,["\n        "])),(l()(),i._18(-1,2,["\n        "])),(l()(),i.Z(13,0,null,2,1,"h2",[],null,null,null,null,null)),(l()(),i._18(14,null,["\n          ","\n        "])),(l()(),i._18(-1,2,["\n        "])),(l()(),i.Z(16,0,null,4,1,"p",[["item-end",""]],null,null,null,null,null)),(l()(),i._18(17,null,["R$ ",""])),(l()(),i._18(-1,2,["\n      "]))],null,function(l,n){l(n,10,0,"./assets/imgs/categorias/"+n.context.$implicit.product.category+".jpg");l(n,14,0,n.context.$implicit.product.name);l(n,17,0,n.context.$implicit.product.price)})}function o(l){return i._19(0,[(l()(),i.Z(0,0,null,null,16,"ion-list",[],null,null,null,null,null)),i.Y(1,16384,null,0,L.a,[P.a,i.j,i.z,x.a,A.l,F.a],null,null),(l()(),i._18(-1,null,["\n      "])),(l()(),i.Z(3,0,null,null,6,"ion-list-header",[["class","item"]],null,null,null,Y.b,Y.a)),i.Y(4,1097728,null,3,j.a,[C.a,P.a,i.j,i.z,[2,Z.a]],null,null),i._16(335544320,1,{contentLabel:0}),i._16(603979776,2,{_buttons:1}),i._16(603979776,3,{_icons:1}),i.Y(8,16384,null,0,q.a,[P.a,i.z,i.j,[8,null]],null,null),(l()(),i._18(-1,2,["\n        Últimas compras\n      "])),(l()(),i._18(-1,null,["\n\n      "])),(l()(),i.U(16777216,null,null,1,null,t)),i.Y(12,16384,null,0,I.i,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i._18(-1,null,["\n\n      "])),(l()(),i.U(16777216,null,null,1,null,a)),i.Y(15,802816,null,0,I.h,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(l()(),i._18(-1,null,["\n    "]))],function(l,n){var u=n.component;l(n,12,0,!u.productsList.length);l(n,15,0,u.productsList)},null)}function s(l){return i._19(0,[(l()(),i.Z(0,0,null,null,10,"ion-header",[],null,null,null,null,null)),i.Y(1,16384,null,0,O.a,[P.a,i.j,i.z,[2,D.a]],null,null),(l()(),i._18(-1,null,["\n  "])),(l()(),i.Z(3,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,S.b,S.a)),i.Y(4,49152,null,0,$.a,[U.a,[2,D.a],[2,K.a],P.a,i.j,i.z],null,null),(l()(),i._18(-1,3,["\n    "])),(l()(),i.Z(6,0,null,3,2,"ion-title",[],null,null,null,T.b,T.a)),i.Y(7,49152,null,0,V.a,[P.a,i.j,i.z,[2,X.a],[2,$.a]],null,null),(l()(),i._18(-1,0,["Seus Dados"])),(l()(),i._18(-1,3,["\n  "])),(l()(),i._18(-1,null,["\n"])),(l()(),i._18(-1,null,["\n\n"])),(l()(),i.Z(12,0,null,null,8,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,w.b,w.a)),i.Y(13,4374528,null,0,B.a,[P.a,x.a,F.a,i.j,i.z,U.a,M.a,i.u,[2,D.a],[2,K.a]],null,null),(l()(),i._18(-1,1,["\n  "])),(l()(),i.Z(15,0,null,1,4,"div",[["class","cf-content-centralize"]],null,null,null,null,null)),(l()(),i._18(-1,null,["\n    "])),(l()(),i.U(16777216,null,null,1,null,o)),i.Y(18,16384,null,0,I.i,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i._18(-1,null,["\n  "])),(l()(),i._18(-1,1,["\n"])),(l()(),i._18(-1,null,["\n"]))],function(l,n){l(n,18,0,n.component.productsList)},function(l,n){l(n,3,0,i._13(n,4)._hidden,i._13(n,4)._sbPadding);l(n,12,0,i._13(n,13).statusbarPadding,i._13(n,13)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var i=u(0),e=(u(1),u(79),u(61)),c=(u(182),u(183)),r=function(){function l(l,n,u,t,a){this.angularFireAuth=l,this.loadingCtrl=n,this.navCtrl=u,this.productService=t,this.purchaseService=a}return l.prototype.ionViewDidLoad=function(){this.init()},l.prototype.init=function(){var l=this;this.loading=this.loadingCtrl.create({content:"Aguarde...",dismissOnPageChange:!0}),this.loading.present().then(function(){l.angularFireAuth.authState.pipe(Object(c.first)()).subscribe(function(n){n&&(l.uid=n.uid,l.name=n.displayName,l.getPurchases())},function(n){l.loading.dismiss(),console.error(n)})})},l.prototype.getPurchases=function(){var l=this;this.purchaseService.getProductsFromPurchases({uid:this.uid}).pipe(Object(c.first)()).subscribe(function(n){if(l.purchasesData=n,!l.purchasesData.length)return l.productsList=[],void l.loading.dismiss();l.products=[],l.purchaseCounter=0,l.purchasesData.forEach(function(n){l.getProduct(n)})},function(n){l.loading.dismiss(),console.error(n)})},l.prototype.getProduct=function(l){var n=this;this.productService.getOne(l.productKey).pipe(Object(c.first)()).subscribe(function(l){n.products.push(l),n.purchaseCounter++,n.purchaseCounter===n.purchasesData.length&&n.createProductsList(n.products)})},l.prototype.createProductsList=function(l){var n=this.purchasesData.map(function(n){var u=n.productKey,t=n.timestamp;return{product:l.find(function(l){return l.key===u}),timestamp:t}});this.productsList=n.sort(function(l,n){return n.timestamp-l.timestamp}),this.loading.dismiss()},l.prototype.goToProductPage=function(l){this.navCtrl.push("ProductPage",{productKey:l})},l}(),d=function(){return function(){}}(),p=u(317),_=u(318),b=u(319),g=u(320),f=u(321),h=u(322),m=u(323),k=u(324),v=u(325),Y=u(181),j=u(24),C=u(21),P=u(3),Z=u(62),y=u(80),z=u(192),L=u(67),x=u(6),A=u(10),F=u(15),q=u(122),I=u(19),O=u(113),D=u(7),S=u(519),$=u(58),U=u(14),K=u(32),T=u(520),V=u(177),X=u(59),w=u(326),B=u(35),M=u(39),N=u(114),R=u(186),E=u(194),J=i.X({encapsulation:2,styles:[],data:{}}),W=i.V("page-user-profile",r,function(l){return i._19(0,[(l()(),i.Z(0,0,null,null,1,"page-user-profile",[],null,null,null,s,J)),i.Y(1,49152,null,0,r,[e.a,N.a,K.a,R.a,E.a],null,null)],null,null)},{},{},[]),G=u(23),H=u(179),Q=u(60);u.d(n,"UserProfilePageModuleNgFactory",function(){return ll});var ll=i.W(d,[],function(l){return i._10([i._11(512,i.i,i.S,[[8,[p.a,_.a,b.a,g.a,f.a,h.a,m.a,k.a,v.a,W]],[3,i.i],i.s]),i._11(4608,I.k,I.j,[i.r,[2,I.s]]),i._11(4608,G.s,G.s,[]),i._11(4608,G.d,G.d,[]),i._11(512,I.b,I.b,[]),i._11(512,G.q,G.q,[]),i._11(512,G.g,G.g,[]),i._11(512,G.n,G.n,[]),i._11(512,H.a,H.a,[]),i._11(512,H.b,H.b,[]),i._11(512,d,d,[]),i._11(256,Q.a,r,[])])})},519:function(l,n,u){"use strict";function t(l){return a._19(0,[(l()(),a.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),a.Y(1,278528,null,0,o.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.backButtonClick(u)&&t}return t},s.b,s.a)),a.Y(3,278528,null,0,o.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(4,1097728,null,0,i.a,[[8,"bar-button"],e.a,a.j,a.z],null,null),(l()(),a.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a.Y(6,278528,null,0,o.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(7,147456,null,0,c.a,[e.a,a.j,a.z],{name:[0,"name"]},null),(l()(),a.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),a.Y(9,278528,null,0,o.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a._18(10,null,["",""])),a._12(null,0),a._12(null,1),a._12(null,2),(l()(),a.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),a.Y(15,278528,null,0,o.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._12(null,3)],function(l,n){var u=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+u._mode);l(n,3,0,"back-button","back-button-"+u._mode);l(n,6,0,"back-button-icon","back-button-icon-"+u._mode);l(n,7,0,u._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+u._mode);l(n,15,0,"toolbar-content","toolbar-content-"+u._mode)},function(l,n){var u=n.component;l(n,2,0,u._hideBb);l(n,5,0,a._13(n,7)._hidden);l(n,10,0,u._backText)})}u.d(n,"a",function(){return r}),n.b=t;var a=u(0),o=u(19),s=u(49),i=u(27),e=u(3),c=u(42),r=(u(7),u(32),a.X({encapsulation:2,styles:[],data:{}}))},520:function(l,n,u){"use strict";function t(l){return a._19(2,[(l()(),a.Z(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),a.Y(1,278528,null,0,o.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._12(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}u.d(n,"a",function(){return s}),n.b=t;var a=u(0),o=u(19),s=(u(3),a.X({encapsulation:2,styles:[],data:{}}))}});