{"version":3,"sources":["../../src/pages/product-register/product-register.module.ts","../../src/pages/product-register/product-register.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACS;AACa;AAWtE;IAAA;IAAwC,CAAC;IAA5B,yBAAyB;QATrC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,8EAAmB;aACpB;YACD,OAAO,EAAE;gBACP,uFAAgB;gBAChB,sEAAe,CAAC,QAAQ,CAAC,8EAAmB,CAAC;aAC9C;SACF,CAAC;OACW,yBAAyB,CAAG;IAAD,gCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACdI;AACkC;AACR;AAEpB;AAEhD;;;IAGI;AAMJ;IAQE,6BACU,EAAe,EAChB,WAA8B,EAC9B,OAAsB,EACtB,SAAoB,EACnB,cAA8B;QAJ9B,OAAE,GAAF,EAAE,CAAa;QAChB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,mBAAc,GAAd,cAAc,CAAgB;QAEtC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,4CAAc,GAAd;IACA,CAAC;IAEO,wCAAU,GAAlB;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,IAAI,EAAE,CAAC,EAAE,EAAE;oBACT,kEAAU,CAAC,QAAQ;iBACpB,CAAC;YACF,WAAW,EAAE,CAAC,EAAE,CAAC;YACjB,KAAK,EAAE,CAAC,EAAE,EAAE;oBACV,kEAAU,CAAC,QAAQ;iBACpB,CAAC;YACF,QAAQ,EAAE,CAAC,EAAE,EAAE;oBACb,kEAAU,CAAC,QAAQ;iBACpB,CAAC;YACF,IAAI,EAAE,CAAC,KAAK,CAAC;SACd,CAAC,CAAC;IACL,CAAC;IAED,wCAAU,GAAV;QAAA,iBAwBC;QAvBC,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC;YAAC,MAAM,CAAC;QAAC,CAAC;QAE1B,wBAA8D,EAA5D,cAAI,EAAE,4BAAW,EAAE,gBAAK,EAAE,sBAAQ,EAAE,cAAI,CAAqB;QAErE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACrC,OAAO,EAAE,YAAY;SACtB,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEvB,IAAI,CAAC,cAAc;aAChB,MAAM,CAAC;YACN,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,IAAI,QAAE,WAAW,eAAE,KAAK,SAAE,QAAQ,YAAE,IAAI;SACzC,CAAC;aACD,IAAI,CAAC,UAAC,GAAU;YACf,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,KAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC;YAC7D,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACrB,CAAC,EAAE,eAAK;YACN,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrB,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IA9DU,mBAAmB;QAJ/B,wEAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;WACG;SACrC,CAAC;qFAUyB;YACH,qEAAiB;YACrB,iEAAa;YACX,iEAAS;YACH,cAAc;OAb7B,mBAAmB,CA+D/B;IAAD,CAAC;AAAA;SA/DY,mBAAmB,gB","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ProductRegisterPage } from './product-register';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductRegisterPage,\r\n  ],\r\n  imports: [\r\n    ComponentsModule,\r\n    IonicPageModule.forChild(ProductRegisterPage),\r\n  ],\r\n})\r\nexport class ProductRegisterPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-register/product-register.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, LoadingController, NavController, NavParams } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { ProductService } from '../../services';\r\n\r\n/*\r\n* PÃ¡gina ProductRegisterPage\r\n* - Registro de um novo produto pelo administrador da empresa\r\n* */\r\n@IonicPage({\r\n  segment: 'company/:companyKey/product/register'\r\n})\r\n@Component({\r\n  selector: 'page-product-register',\r\n  templateUrl: 'product-register.html'\r\n})\r\nexport class ProductRegisterPage {\r\n  form: FormGroup;\r\n  loading: any;\r\n\r\n  uid: string;\r\n\r\n  companyKey: string;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    public loadingCtrl: LoadingController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private productService: ProductService\r\n  ) {\r\n    this.companyKey = this.navParams.get('companyKey');\r\n    this.createForm();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  private createForm() {\r\n    this.form = this.fb.group({\r\n      name: ['', [\r\n        Validators.required\r\n      ]],\r\n      description: [''],\r\n      price: ['', [\r\n        Validators.required\r\n      ]],\r\n      category: ['', [\r\n        Validators.required\r\n      ]],\r\n      sale: [false]\r\n    });\r\n  }\r\n\r\n  submitForm() {\r\n    if(this.form.invalid){ return; }\r\n\r\n    const { name, description, price, category, sale } = this.form.value;\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Aguarde...'\r\n    });\r\n\r\n    this.loading.present();\r\n\r\n    this.productService\r\n      .create({\r\n        companyKey: this.companyKey,\r\n        name, description, price, category, sale\r\n      })\r\n      .then((key:string) => {\r\n        this.loading.dismiss();\r\n        this.navCtrl.getPrevious().data.companyKey = this.companyKey;\r\n        this.navCtrl.pop();\r\n      }, error => {\r\n        console.error(error);\r\n        this.loading.dismiss();\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-register/product-register.ts"],"sourceRoot":""}